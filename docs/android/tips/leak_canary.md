---
title: "LeakCanary ğŸ¤"
sidebar_label: "LeakCanary"
---

## å¦‚ä½•åœ¨è°ƒè¯•æ„å»ºä¸­ç¦ç”¨ LeakCanary

[LeakCanary](https://square.github.io/leakcanary/) æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºæ£€æµ‹ Android åº”ç”¨ç¨‹åºä¸­çš„å†…å­˜æ³„æ¼ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ç¦ç”¨å®ƒï¼Œä¾‹å¦‚åœ¨å‡†å¤‡æ€§èƒ½æµ‹è¯•çš„è°ƒè¯•æ„å»ºæ—¶ï¼Œæˆ–è€…å½“ä¸éœ€è¦å®ƒæ—¶ã€‚

### é€šè¿‡ Gradle å‘½ä»¤ç¦ç”¨ LeakCanary

æ‚¨å¯ä»¥é€šè¿‡åœ¨ Gradle å‘½ä»¤ä¸­ä¼ é€’ `-PnoLeakCanary` æ ‡å¿—æ‰‹åŠ¨ç¦ç”¨ LeakCanaryã€‚ä¾‹å¦‚ï¼š

```bash
./gradlew app:assembleFullDebug -PnoLeakCanary
```

æ­¤æ ‡å¿—ç¡®ä¿ LeakCanary è¢«æ’é™¤åœ¨æ„å»ºä¹‹å¤–ã€‚

### é€šè¿‡å±æ€§æ–‡ä»¶ç¦ç”¨ LeakCanary

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨ gradle.properties æ–‡ä»¶ä¸­è®¾ç½® noLeakCanary å±æ€§æ¥ç¦ç”¨ LeakCanaryã€‚è¿™å¯ä»¥åœ¨é¡¹ç›®çº§åˆ«æˆ–ä¸»ç›®å½•çº§åˆ«å®Œæˆã€‚

```properties
noLeakCanary=true
```

::::warning
å¦‚æœæ‚¨ç¦ç”¨ LeakCanaryï¼Œéœ€è¦æ›´æ–°é”å®šæ–‡ä»¶ï¼›å¦åˆ™ï¼ŒGradle ä¼šå¯¹ä¾èµ–æ€§é—®é¢˜å‘å‡ºè­¦å‘Šã€‚

[å¦‚ä½•æ›´æ–°é”å®šæ–‡ä»¶](/docs/android/tips/dependencies#updating-dependencies-and-lockfiles).
::::

## ä½¿ç”¨ LeakCanary çš„æœ€ä½³å®è·µ

- **å®šæœŸç›‘æµ‹å†…å­˜æ³„æ¼**ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ LeakCanary ä»¥å°½æ—©è¯†åˆ«å’Œä¿®å¤å†…å­˜æ³„æ¼ã€‚
- **è®°å½•å·²çŸ¥æ³„æ¼**ï¼šå¦‚æœå†…å­˜æ³„æ¼æ˜¯ç”±ç¬¬ä¸‰æ–¹åº“å¼•èµ·å¹¶ä¸”æ— æ³•ç«‹å³ä¿®å¤ï¼Œè¯·è®°å½•ä»¥å¤‡å°†æ¥å‚è€ƒã€‚
- **æŠ¥å‘Šæ³„æ¼**ï¼šå¦‚æœ LeakCanary æŠ¥å‘Šäº†æ³„æ¼ï¼Œè¯·æ‰“å¼€ GitHub é—®é¢˜ã€‚